<div class="signup-container">
    <h2><mat-icon>school</mat-icon> Join as Music Teacher</h2>
    <p class="subtitle">Please fill in your teaching experience details to complete the registration.</p>

    <form (ngSubmit)="onSubmit()" #teacherForm="ngForm">

        <div class="form-group">
            <label for="experience">Years of teaching experience:</label>
            <input type="number" id="experience"
                   name="experience" min="0"
                   [(ngModel)]="teacherData.experience"
                   required>
        </div>

        <div class="form-group">
            <label for="price">Price per lesson ($):</label>
            <input type="number" id="price" name="price"
                   min="10" step="0.01"
                   [(ngModel)]="teacherData.pricePerLesson"
                   required>
        </div>

        <div class="form-group">
            <label for="duration">Lesson duration (minutes):</label>
            <input type="number" id="duration"
                   name="duration" min="15" max="180"
                   [(ngModel)]="teacherData.lessonDuration"
                   required>
        </div>

        <div class="form-group instrument-select-group">
            <label>Instruments I teach:</label>
            <div class="instrument-list">
                @for(instrument of instrumentsList; track instrument.id){
                    <button type="button"
                            class="instrument-tag"
                            [class.selected]="(teacherData.instrumentsIds || []).includes(instrument.id!)"
                            (click)="toggleInstrument(instrument.id!)">
                        {{ instrument.name }}
                        <span *ngIf="(teacherData.instrumentsIds || []).includes(instrument.id!)"><mat-icon>check</mat-icon></span>
                    </button>
                }
            </div>
            @if((teacherData.instrumentsIds || []).length === 0 && teacherForm.submitted){
                <p class="error-message">You must select at least one instrument.</p>
            }
        </div>

        <button type="submit" [disabled]="!teacherForm.valid" class="submit-btn">
            Complete registration as a teacher
        </button>
    </form>
</div>
<div *ngIf="showMessageBox" class="message-box">
  {{ message }}
</div>
