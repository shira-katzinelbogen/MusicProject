<div class="profile-avatar-wrapper" 

>
<!-- (click)="toggleDropdown($event)" -->
  @if (currentUser$ | async; as user) {

  <div class="profile-avatar-container"(click)="navigationService.goToProfile(user.id)">

    @if (user.hasImageProfilePath&&user.imageProfilePath) {
    <!-- <img [src]="fileUtils.getImageUrl(user.imageProfilePath)" alt="Profile Picture" class="profile-picture"> -->
    <img [src]="fileUtilsService.getImageUrl(user!.imageProfilePath!)" class="profile-picture">
    }
    @else {
    <div class="profile-initials">
                                      <span>{{ user.name ? user.name.charAt(0).toUpperCase() : '?' }}</span>
                  </div>

    }

    <div class="online-indicator"></div>
  </div>

  @if (isDropdownOpen) {
  <div class="profile-dropdown">
<!-- 
    <a class="dropdown-item user-info" >
      <span class="user-handle">{{ user.name }}</span>
      <span class="view-profile">צפה בפרופיל</span>
    </a> -->

    <!-- <hr class="dropdown-divider"> -->

    <!-- <a class="dropdown-item signout-link" (click)="handleSignOut($event)">
      התנתק (Sign Out)
    </a> -->
  </div>
  }

  }

</div>