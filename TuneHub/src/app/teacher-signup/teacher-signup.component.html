<div class="signup-container">
    <h2>הצטרפות כ:מורה למוזיקה 👨‍🏫</h2>
    <p class="subtitle">אנא מלא את פרטי הניסיון שלך כדי להשלים את ההצטרפות.</p>

    <form (ngSubmit)="onSubmit()" #teacherForm="ngForm">

        <div class="form-group">
            <label for="experience">שנות ניסיון בהוראה:</label>
            <input 
                type="number" 
                id="experience" 
                name="experience"
                min="0"
                [(ngModel)]="teacherData.experience"
                required>
        </div>

        <div class="form-group">
            <label for="price">מחיר לשיעור (₪):</label>
            <input 
                type="number" 
                id="price" 
                name="price"
                min="0"
                step="0.01"
                [(ngModel)]="teacherData.pricePerLesson"
                required>
        </div>

        <div class="form-group">
            <label for="duration">משך שיעור (דקות):</label>
            <input 
                type="number" 
                id="duration" 
                name="duration"
                min="15"
                max="180"
                [(ngModel)]="teacherData.lessonDuration"
                required>
        </div>

        <div class="form-group instrument-select-group">
            <label>כלי נגינה שאני מלמד:</label>
            <div class="instrument-list">
                @for(instrument of instrumentsList; track instrument.id){
                    <button 
                        type="button"
                        class="instrument-tag"
                        [class.selected]="(teacherData.instrumentsIds || []).includes(instrument.id!)"
                        (click)="toggleInstrument(instrument.id!)">
                        {{ instrument.name }} 
                        <span *ngIf="(teacherData.instrumentsIds || []).includes(instrument.id!)">✅</span>
                    </button>
                }
            </div>
            @if((teacherData.instrumentsIds || []).length === 0 && teacherForm.submitted){
                <p class="error-message">יש לבחור לפחות כלי נגינה אחד.</p>
            }
        </div>

        <button type="submit" [disabled]="!teacherForm.valid" class="submit-btn">
            השלם רישום כמורה
        </button>
    </form>
</div>